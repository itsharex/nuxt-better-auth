---
title: Troubleshooting
description: Common issues and fast checks for current module features.
---

## Quick checks

- `BETTER_AUTH_SECRET` is set and at least 32 characters in production.
- `runtimeConfig.public.siteUrl` (or `NUXT_PUBLIC_SITE_URL`) is set when callback consistency matters.
- `server/auth.config.ts` and `app/auth.config.ts` both export their `define*Auth(...)` default config.

## Common issues

### Invalid origin or OAuth callback mismatch

Set an explicit local site URL and restart dev:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  runtimeConfig: {
    public: {
      siteUrl: process.env.NUXT_PUBLIC_SITE_URL || 'http://localhost:3000',
    },
  },
})
```

Then verify your provider callback URL matches exactly.

### Missing auth config files

Create these files if missing:

- `server/auth.config.ts` with `export default defineServerAuth(...)`
- `app/auth.config.ts` with `export default defineClientAuth(...)`

### No schema file is generated

Schema generation requires NuxtHub with DB enabled:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  hub: { db: { dialect: 'sqlite' } },
})
```

### API routes are not protected

Only routes with `routeRules.auth` are enforced automatically for `/api/**`.
Use `routeRules.auth` or call `requireUserSession(event)` inside handlers.

## Related docs

- [Configuration](/getting-started/configuration)
- [Route Protection](/core-concepts/route-protection)
- [NuxtHub Integration](/integrations/nuxthub)
